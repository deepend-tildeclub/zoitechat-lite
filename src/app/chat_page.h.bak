#pragma once
#include <gtk/gtk.h>

G_BEGIN_DECLS
typedef struct _ChatPage ChatPage;

ChatPage *chat_page_new(const gchar *target);
void chat_page_free(ChatPage *page);

GtkWidget *chat_page_get_root(ChatPage *page);
const gchar *chat_page_get_target(ChatPage *page);
GtkWidget *chat_page_get_entry(ChatPage *page);

void chat_page_append(ChatPage *page, const gchar *line);
void chat_page_append_fmt(ChatPage *page, const gchar *fmt, ...) G_GNUC_PRINTF(2, 3);

/* Channel-only user list sidebar (no-op for non-channels). */
void chat_page_set_userlist(ChatPage *page, const gchar * const *display_names, gsize n);
void chat_page_clear_userlist(ChatPage *page);

G_END_DECLS
